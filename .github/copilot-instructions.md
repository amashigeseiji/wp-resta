# GitHub Copilot コードレビュー指示

## 概要

このレポジトリは、 **wp-resta** という WordPress REST API 開発フレームワークです。
以下のような特徴と目的があります。

* autowiring によるDI機構を採用
* WordPress をクラスベース開発しやすくする
* WordPress のフック登録もクラスベースでの登録が可能(HookProvider機能)

## コードレビューの指針

コードレビューの際は以下の基本方針に従ってください。

### 言語

- **すべてのコードレビューコメントは日本語で記述してください**
- 技術用語は適宜英語を使用して構いませんが、説明は日本語で行ってください

### レビュースコープ

- **プルリクエストで変更されたコードに直接関連する指摘のみを行ってください**
- プルリクエストのコンテキストや目的から外れた指摘は避けてください
- 変更されていない既存のコード箇所への指摘は原則として行わないでください
- ただし、変更によって既存コードとの整合性が失われる場合は指摘してください

## レビュー時の重点ポイント

以下の点に注目してレビューを行ってください：

### 1. コードの意図

- コードの意図がわかりにくい場合は、理由を含めて指摘してください。
- コードの意図はわかるが、利用者に説明が必要と思われる場合は、コードのコメントとして記述するよう提案してください。
- クラス名やメソッド名が、実態と合っていない場合は指摘してください。

### 2. WordPress プラグイン開発のベストプラクティス

- WordPress のプラグイン開発の一般的なベストプラクティスなどがあれば指摘してください。
- WordPress 固有の挙動との関連で考慮事項があれば指摘してください。

### 3. テスト

- 新規実装によって極端にカバレッジが下がっていないか
- テスト容易な構造が維持されているか。依存コードが interface などを経由して差し替えられる構造になっているか。

### 4. 静的解析

- PHPStanの型チェックに適合しているか
- 型情報が不足していないか
- 型の不整合や潜在的なバグがないか

### 5. セキュリティ

- REST API 開発の際に考慮すべきセキュリティ事項があれば指摘してください。

### 6. プロジェクト固有

- 不必要な WordPress 本体のコードへの依存で、テスト容易性を下げていないか
- WordPress との接点となる箇所が限定されているか
